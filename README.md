# Tracker

"21" – минималистичный трекер привычек, созданный в рамках учебного проекта Яндекс Лицея.

## Содержание

- [Tracker](#tracker)
  - [Содержание](#содержание)
  - [Зависимости](#зависимости)
  - [Установка](#установка)
  - [Продакшен](#продакшен)
  - [Локальная разработка](#локальная-разработка)
    - [Локальная разработка: подготовка](#локальная-разработка-подготовка)
    - [Локальная разработка: база данных](#локальная-разработка-база-данных)
    - [Локальная разработка: админка](#локальная-разработка-админка)
    - [Локальная разработка: локализация](#локальная-разработка-локализация)
    - [Локальная разработка: запуск](#локальная-разработка-запуск)
  - [Тестирование](#тестирование)
    - [Тестирование: подготовка](#тестирование-подготовка)
    - [Тестирование: локализация](#тестирование-локализация)
    - [Тестирование: запуск](#тестирование-запуск)

## Зависимости

- Python 3.9 или выше
- Docker

__Важно__: если Вы используете __Windows__, все следующие команды, кроме тех, где будет явный альтернативный вариант, выполняются аналогично, но необходимо заменить `pip3` на `pip`, а `python3` на `python`.

## Установка

1. Cклонировать репозиторий:

   ```bash
   git clone https://github.com/fabscheize/21-tracker.git && cd 21-tracker
   ```

## Продакшен

Для запуска сервера необходимо запустить Docker и выполнить команду из корневой директории проекта:

   ```bash
   docker-compose up --build
   ```

Проект будет доступен по адресу <http://127.0.0.1/>.

## Локальная разработка

Необходимо выполнить команды из корневой директории проекта:

### Локальная разработка: подготовка


1. Создать виртуальное окружение:

   ```bash
   python3 -m venv venv
   ```

1. Активировать виртуальное окружение:

   - Linux/MacOS

     ```bash
     source venv/bin/activate
     ```

   - Windows

     ```bash
     venv\Scripts\activate.bat
     ```

1. Установить зависимости для разработки:

   ```bash
   pip3 install -r requirements/dev.txt
   ```

1. Отредактировать (при необходимости) переменные окружения в файле `.env.example` и скопировать их в файл `.env`:

   - Linux/MacOS

     ```bash
     cp .env.example .env
     ```

   - Windows

     ```bash
     copy .env.example .env
     ```

1. Перейти в директорию проекта:

   ```bash
   cd tracker
   ```

### Локальная разработка: база данных

1. Применить миграции:

   ```bash
   python3 manage.py migrate
   ```

### Локальная разработка: админка

- Создать суперпользователя для админки:

  ```bash
  python3 manage.py createsuperuser
  ```

  (следовать инструкциям скрипта)

### Локальная разработка: локализация

- Скомпилировать локализацию:

   ```bash
   django-admin compilemessages
   ```

### Локальная разработка: запуск

- Запустить сервер:

  ```bash
  python3 manage.py runserver
  ```

## Тестирование

Необходимо выполнить команды из корневой директории проекта:

### Тестирование: подготовка

1. Установить зависимости для тестирования:

   ```bash
   pip3 install -r requirements/test.txt
   ```

1. Перейти в директорию проекта:

   ```bash
   cd tracker
   ```

### Тестирование: локализация

- Скомпилировать локализацию:

  ```bash
  django-admin compilemessages
  ```

### Тестирование: запуск

- Запустить тесты:

  ```bash
  python3 manage.py test
  ```
